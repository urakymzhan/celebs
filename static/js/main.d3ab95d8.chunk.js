(this["webpackJsonpclass-22"]=this["webpackJsonpclass-22"]||[]).push([[0],{16:function(e,t,a){e.exports=a(38)},21:function(e,t,a){},22:function(e,t,a){},38:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),o=a(4),c=a.n(o),r=(a(21),a(10)),i=a(11),s=a(15),u=a(14),m=(a(22),a(12)),d=a.n(m),h="df8b08ecb436696fee41a00f8d87a540",g="http://image.tmdb.org/t/p/",p=["w45","w185","h632","original"],v={content:{background:"#333",zIndex:9},button:{color:"black"}};function E(e){var t=e.celebrity,a=e.showModal,n=e.handleOpenModal,o=e.handleCloseModal,c=e.modalContentData;return console.log("modalContentData",c),l.a.createElement(l.a.Fragment,null,l.a.createElement("tr",{key:t.id},l.a.createElement("td",null,t.name),l.a.createElement("td",null,t.popularity),l.a.createElement("td",null,l.a.createElement("img",{src:"".concat(g).concat(p[0]).concat(t.profile_path),alt:"celebrity avatar"})),l.a.createElement("td",null,t.known_for.map((function(e){return l.a.createElement("p",{key:e.id,onClick:function(){return n(e)},id:"open-movie-title"},e.title)})),l.a.createElement(d.a,{isOpen:a,contentLabel:"Movie Information",style:v},l.a.createElement("button",{onClick:o,id:"modalCloseBtn"},"X"),l.a.createElement("div",{class:"modalContent"},l.a.createElement("h1",{id:"movie-title"},c.original_title),l.a.createElement("p",{id:"movie-description"},c.overview),l.a.createElement("p",{id:"movie-poster"},l.a.createElement("img",{src:"".concat(g).concat(p[1]).concat(c.poster_path),alt:"movie avatar"})),l.a.createElement("p",{id:"movie-rel-date"},"Release Date: ",l.a.createElement("span",null,c.release_date)),l.a.createElement("p",{id:"movie-vote"}," ","Average Vote: ",l.a.createElement("span",null,c.vote_average)),l.a.createElement("p",{id:"movie-view-count"},"Vote Count: ",l.a.createElement("span",null,c.vote_count)))))))}var f=a(13),C=a.n(f);function b(e){var t=e.activePage,a=e.itemsCountPerPage,n=e.totalItemsCount,o=e.onChange,c=e.limit,r=e.leftLimit;return l.a.createElement("div",{className:"pagination-container"},l.a.createElement(C.a,{activePage:t,itemsCountPerPage:a,totalItemsCount:n||0,pageRangeDisplayed:5,onChange:o}),l.a.createElement("div",null,"Showing ",r," - ",c," of ",n||0))}var _=function(e){var t="https://api.themoviedb.org/3/person/popular?api_key=".concat(h,"&language=en-US&page=").concat(e);return fetch(t).then((function(e){return e.json()})).then((function(e){return e})).catch((function(e){return console.log(e)}))},w=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).handlePageChange=function(e){var t=e*n.state.celebsData.length,a=(e-1)*n.state.celebsData.length;_(e).then((function(l){n.setState({celebsData:l.results,total_pages:l.total_pages,total_results:l.total_results,activePage:e,isLoading:!1,limit:t,leftLimit:a})}))},n.handleSearchChange=function(e){""!==e.target.value&&n.setState({searchText:e.target.value})},n.handleSearchClick=function(e){var t=n.state,a=t.activePage,l=t.searchText,o="https://api.themoviedb.org/3/search/person?api_key=".concat(h,"&language=en-US&query=").concat(l,"&page=").concat(a,"&include_adult=false");""!==l&&fetch(o).then((function(e){return e.json()})).then((function(e){return n.setState({celebsData:e.results,total_pages:e.total_pages,total_results:e.total_results,isLoading:!1})})).catch((function(e){return console.log(e)}))},n.handleOpenModal=function(e){n.setState({showModal:!0,modalContentData:e})},n.handleCloseModal=function(){n.setState({showModal:!1})},n.state={celebsData:[],activePage:1,total_pages:0,total_results:0,isLoading:!0,limit:20,leftLimit:0,searchText:"",showModal:!1,modalContentData:[]},n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.state.activePage;_(t).then((function(t){e.setState({celebsData:t.results,activePage:t.page,total_pages:t.total_pages,total_results:t.total_results,isLoading:!1})}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.celebsData,n=t.modalContentData,o=this.state,c=o.activePage,r=o.total_results,i=o.isLoading,s=o.limit,u=o.leftLimit,m=o.showModal,d=l.a.createElement("tr",null,l.a.createElement("td",null,"Loading..."),l.a.createElement("td",null,"Loading..."),l.a.createElement("td",null,"Loading..."),l.a.createElement("td",null,"Loading..."));return i||0!==a.length||(d=l.a.createElement("tr",null,l.a.createElement("td",null,"No result"),l.a.createElement("td",null,"No result"),l.a.createElement("td",null,"No result"),l.a.createElement("td",null,"No result"))),!i&&a&&a.length>0&&(d=a.map((function(t){return l.a.createElement(E,{celebrity:t,showModal:m,handleOpenModal:e.handleOpenModal,handleCloseModal:e.handleCloseModal,modalContentData:n})}))),console.log("celebsData",a),l.a.createElement("div",{className:"App"},l.a.createElement("div",{className:"search-container"},l.a.createElement("input",{type:"input",placeholder:"Search by artist name",id:"search",onChange:this.handleSearchChange}),l.a.createElement("input",{type:"button",value:"Search",id:"searchBtn",onClick:this.handleSearchClick})),l.a.createElement("table",null,l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Full Name"),l.a.createElement("th",null,"Popularity"),l.a.createElement("th",null,"Profile"),l.a.createElement("th",null,"Known For"))),l.a.createElement("tbody",null,d)),l.a.createElement(b,{activePage:c,itemsCountPerPage:a.length,totalItemsCount:r,onChange:this.handlePageChange,limit:s,leftLimit:u}))}}]),a}(l.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(37),c.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(w,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[16,1,2]]]);
//# sourceMappingURL=main.d3ab95d8.chunk.js.map